extends ../layout/opciones_usuario

block opciones_moderador
    h2.tituloCategoria= pagina
    div.verMesaFecha
        p.datoReserva Fecha: 
            span.spanDatoReserva=fechas
    div.btnMesa
        form(action="/mesa/ver-mesas" method="POST")
            input(type="hidden" name="_csrf" value= csrfToken)
            div.formVerMesa
                div 
                    label.labelLogins(for="fecha") Fecha:  
                    input#fecha.inputReserva(type="date", name="fecha") 
                input.btnOpcion(type="submit" value= "Ver Mesas")
                a.btnOpcion.separacion(href="/mesa/gestionar-mesa") Volver 
    div.colores

        div.color
            p.letraColor Aceptado:
            div.colorAceptado.divColor 
        div.color 
            p.letraColor No llegada: 
            div.colorNoLlegada.divColor
        div.color 
            p.letraColor En mesa:
            div.colorEnMesa.divColor
        div.color 
            p.letraColor Comida Servida: 
            div.colorComidaServida.divColor
        div.color 
            p.letraColor Salida:
            div.colorSalida.divColor
 
    if reservas.length
        h2.tituloCategoria Mesas
        //- div.gridVerMesas 

        //-     div
        //-         p.mesaP Mesa 1
        //-         div.gridHoras
        //-             each reserva in reservas
        //-                 if reserva.mesaId == "1"
        //-                     a(href=`/mesa/editar/${reserva.id}` target="_blank" class=`${reserva.estadoId == 1 ? 'colorAceptado' : reserva.estadoId == 3 ? 'colorNoLlegada'
        //-                     : reserva.estadoId == 4 ? 'colorEnMesa' : reserva.estadoId == 5 ? 'colorComidaServida' : reserva.estadoId == 6 ? 'colorSalida': 'nada' } horaP`)= reserva.hora.hora    

        //-     div
        //-         p.mesaP Mesa 2
        //-         div.gridHoras
        //-             each reserva in reservas
        //-                 if reserva.mesaId == "2"
        //-                     a(href=`/mesa/editar/${reserva.id}` target="_blank" class=`${reserva.estadoId == 1 ? 'colorAceptado' : reserva.estadoId == 3 ? 'colorNoLlegada'
        //-                     : reserva.estadoId == 4 ? 'colorEnMesa' : reserva.estadoId == 5 ? 'colorComidaServida' : reserva.estadoId == 6 ? 'colorSalida': 'nada' } horaP`)= reserva.hora.hora    
        //-     div

        //-         p.mesaP Mesa 3
        //-         div.gridHoras
        //-             each reserva in reservas
        //-                 if reserva.mesaId == "3"
        //-                     a(href=`/mesa/editar/${reserva.id}` target="_blank" class=`${reserva.estadoId == 1 ? 'colorAceptado' : reserva.estadoId == 3 ? 'colorNoLlegada'
        //-                     : reserva.estadoId == 4 ? 'colorEnMesa' : reserva.estadoId == 5 ? 'colorComidaServida' : reserva.estadoId == 6 ? 'colorSalida': 'nada' } horaP`)= reserva.hora.hora    
        //-     div
        //-         p.mesaP Mesa 4
        //-         div.gridHoras
        //-             each reserva in reservas
        //-                 if reserva.mesaId == "4"
        //-                     a(href=`/mesa/editar/${reserva.id}` target="_blank" class=`${reserva.estadoId == 1 ? 'colorAceptado' : reserva.estadoId == 3 ? 'colorNoLlegada'
        //-                     : reserva.estadoId == 4 ? 'colorEnMesa' : reserva.estadoId == 5 ? 'colorComidaServida' : reserva.estadoId == 6 ? 'colorSalida': 'nada' } horaP`)= reserva.hora.hora       
        //-     div
        //-         p.mesaP Mesa 5
        //-         div.gridHoras
        //-             each reserva in reservas
        //-                 if reserva.mesaId == "5"
        //-                     a(href=`/mesa/editar/${reserva.id}` target="_blank" class=`${reserva.estadoId == 1 ? 'colorAceptado' : reserva.estadoId == 3 ? 'colorNoLlegada'
        //-                     : reserva.estadoId == 4 ? 'colorEnMesa' : reserva.estadoId == 5 ? 'colorComidaServida' : reserva.estadoId == 6 ? 'colorSalida': 'nada' } horaP`)= reserva.hora.hora       
        //-     div
        //-         p.mesaP Mesa 6
        //-         div.gridHoras
        //-             each reserva in reservas
        //-                 if reserva.mesaId == "6"
        //-                     a(href=`/mesa/editar/${reserva.id}` target="_blank" class=`${reserva.estadoId == 1 ? 'colorAceptado' : reserva.estadoId == 3 ? 'colorNoLlegada'
        //-                     : reserva.estadoId == 4 ? 'colorEnMesa' : reserva.estadoId == 5 ? 'colorComidaServida' : reserva.estadoId == 6 ? 'colorSalida': 'nada' } horaP`)= reserva.hora.hora    
        //-     div
        //-         p.mesaP Mesa 7
        //-         div.gridHoras
        //-             each reserva in reservas
        //-                 if reserva.mesaId == "7"
        //-                     a(href=`/mesa/editar/${reserva.id}` target="_blank" class=`${reserva.estadoId == 1 ? 'colorAceptado' : reserva.estadoId == 3 ? 'colorNoLlegada'
        //-                     : reserva.estadoId == 4 ? 'colorEnMesa' : reserva.estadoId == 5 ? 'colorComidaServida' : reserva.estadoId == 6 ? 'colorSalida': 'nada' } horaP`)= reserva.hora.hora        
        //-     div
        //-         p.mesaP Mesa 8
        //-         div.gridHoras
        //-             each reserva in reservas
        //-                 if reserva.mesaId == "8"
        //-                     a(href=`/mesa/editar/${reserva.id}` target="_blank" class=`${reserva.estadoId == 1 ? 'colorAceptado' : reserva.estadoId == 3 ? 'colorNoLlegada'
        //-                     : reserva.estadoId == 4 ? 'colorEnMesa' : reserva.estadoId == 5 ? 'colorComidaServida' : reserva.estadoId == 6 ? 'colorSalida': 'nada' } horaP`)= reserva.hora.hora         
        div.gridVerMesas 
            each mesa in mesas
                div
                    p.mesaP= mesa.numero
                    div.gridHoras
                        each reserva in reservas
                            if reserva.mesaId == mesa.numero
                                a(href=`/mesa/editar/${reserva.id}` target="_blank" class=`${reserva.estadoId == 1 ? 'colorAceptado' : reserva.estadoId == 3 ? 'colorNoLlegada'
                                : reserva.estadoId == 4 ? 'colorEnMesa' : reserva.estadoId == 5 ? 'colorComidaServida' : reserva.estadoId == 6 ? 'colorSalida': 'nada' } horaP`)= reserva.hora.hora 
        div.paginacion
            div 
                p.mostrarCantidad Mostrando 
                    span #{offset + 1}  a 
                    span #{total < limit + offset ? total : limit + offset} de   
                    span #{total} Mesas

            div
                div
                    nav
                        - var n = 1;
                            while n <= paginas
                                a.numeroCantidad(href=`/mesa/ver-mesas?fecha=${fechas}&pagina=${n}`) #{n++}
    else
        h2.tituloCategoria No hay reservas